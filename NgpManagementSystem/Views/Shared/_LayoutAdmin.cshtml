<!DOCTYPE html>
<html lang="en">
<head>
    <script src="~/Scripts/jquery-3.4.1.js"></script>  @*meed this   laging sa taas *@
    <link href="~/Content/Custom.css" rel="stylesheet" />
    <script src="~/Scripts/jquery.validate-vsdoc.js"></script>
    <script src="~/Scripts/jquery.validate.js"></script>
    <script src="~/Scripts/jquery.validate.min.js"></script>
    <script src="~/Scripts/jquery.validate.unobtrusive.js"></script>
    <script src="~/Scripts/jquery.validate.unobtrusive.min.js"></script>
    <script src="~/Scripts/modernizr-2.8.3.js"></script>
    <script src="~/Scripts/toastr.js"></script>
    <script src="~/Scripts/toastr.min.js"></script>
    <link href="~/Content/toastr.css" rel="stylesheet" />
    <link href="~/Content/toastr.min.css" rel="stylesheet" />
    <link href="~/Content/jquery.dataTables.css" rel="stylesheet" />
    <link href="~/Content/jquery.dataTables.min.css" rel="stylesheet" />
    <script src="~/Scripts/jquery.dataTables.js"></script>
    <script src="~/Scripts/jquery.dataTables.min.js"></script>
    <link href="~/Content/select2.css" rel="stylesheet" />
    <link href="~/Content/select2.min.css" rel="stylesheet" />
    <link href="~/Content/assets/modules/prism/prism.css" rel="stylesheet" />
    <script src="~/Scripts/select2.js"></script>
    <script src="~/Scripts/select2.min.js"></script>
    <script src="~/Scripts/General.js"></script>

    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, shrink-to-fit=no" name="viewport">
    <title> Ngp Management System</title>

    <!-- General CSS Files -->
    <link rel="stylesheet" href="/Content/assets/modules/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="/Content/assets/modules/fontawesome/css/all.min.css">

    <!-- CSS Libraries -->
    <link rel="stylesheet" href="/Content/assets/modules/jqvmap/dist/jqvmap.min.css">
    <link rel="stylesheet" href="/Content/assets/modules/summernote/summernote-bs4.css">


    <!-- Template CSS -->
    <link rel="stylesheet" href="/Content/assets/css/style.css">
    <link rel="stylesheet" href="/Content/assets/css/components.css">
    <!-- Start GA -->




    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-94034622-3"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'UA-94034622-3');
    </script>
    <!-- /END GA -->
</head>

<body>

    <div id="app">
        <div class="main-wrapper main-wrapper-1">
            <div class="navbar-bg " style="background-color: #20642f !important; "></div>
            <nav class="navbar navbar-expand-lg main-navbar">
                <form class="form-inline mr-auto">

                    <ul class="navbar-nav mr-3">
                        <li><a href="#" data-toggle="sidebar" class="nav-link nav-link-lg"><i class="fas fa-bars"></i></a></li>

                        <li style="cursor: pointer; position: relative; top: 4px;" class="text-white">
                            <a data-toggle="modal" data-target="#maint_modal" id="maint_tz"><i class="fa fa-cog f-20"></i> MAINTENANCE MODE</a>
                        </li>

                    </ul>

                </form>


                <ul class="navbar-nav navbar-right">
                    <li class="dropdown dropdown-list-toggle">
                        <a href="#" data-toggle="dropdown" class="nav-link nav-link-lg message-toggle beep"><i class="far fa-envelope"></i></a>
                        <div class="dropdown-menu dropdown-list dropdown-menu-right">
                            <div class="dropdown-header">
                                Messages
                                <div class="float-right">
                                    <a href="#">Mark All As Read</a>
                                </div>
                            </div>
                            <div class="dropdown-list-content dropdown-list-message">
                                <a href="#" class="dropdown-item dropdown-item-unread">
                                    <div class="dropdown-item-avatar">
                                        <img alt="image" src="assets/img/avatar/avatar-1.png" class="rounded-circle">
                                        <div class="is-online"></div>
                                    </div>
                                    <div class="dropdown-item-desc">
                                        <b>Kusnaedi</b>
                                        <p>Hello, Bro!</p>
                                        <div class="time">10 Hours Ago</div>
                                    </div>
                                </a>
                                <a href="#" class="dropdown-item dropdown-item-unread">
                                    <div class="dropdown-item-avatar">
                                        <img alt="image" src="assets/img/avatar/avatar-2.png" class="rounded-circle">
                                    </div>
                                    <div class="dropdown-item-desc">
                                        <b>Dedik Sugiharto</b>
                                        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit</p>
                                        <div class="time">12 Hours Ago</div>
                                    </div>
                                </a>
                                <a href="#" class="dropdown-item dropdown-item-unread">
                                    <div class="dropdown-item-avatar">
                                        <img alt="image" src="assets/img/avatar/avatar-3.png" class="rounded-circle">
                                        <div class="is-online"></div>
                                    </div>
                                    <div class="dropdown-item-desc">
                                        <b>Agung Ardiansyah</b>
                                        <p>Sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
                                        <div class="time">12 Hours Ago</div>
                                    </div>
                                </a>
                                <a href="#" class="dropdown-item">
                                    <div class="dropdown-item-avatar">
                                        <img alt="image" src="assets/img/avatar/avatar-4.png" class="rounded-circle">
                                    </div>
                                    <div class="dropdown-item-desc">
                                        <b>Ardian Rahardiansyah</b>
                                        <p>Duis aute irure dolor in reprehenderit in voluptate velit ess</p>
                                        <div class="time">16 Hours Ago</div>
                                    </div>
                                </a>
                                <a href="#" class="dropdown-item">
                                    <div class="dropdown-item-avatar">
                                        <img alt="image" src="assets/img/avatar/avatar-5.png" class="rounded-circle">
                                    </div>
                                    <div class="dropdown-item-desc">
                                        <b>Alfa Zulkarnain</b>
                                        <p>Exercitation ullamco laboris nisi ut aliquip ex ea commodo</p>
                                        <div class="time">Yesterday</div>
                                    </div>
                                </a>
                            </div>
                            <div class="dropdown-footer text-center">
                                <a href="#">View All <i class="fas fa-chevron-right"></i></a>
                            </div>
                        </div>
                    </li>
                    <li class="dropdown dropdown-list-toggle">
                        <a href="#" data-toggle="dropdown" class="nav-link notification-toggle nav-link-lg beep"><i class="far fa-bell"></i></a>
                        <div class="dropdown-menu dropdown-list dropdown-menu-right">
                            <div class="dropdown-header">
                                Notifications
                                <div class="float-right">
                                    <a href="#">Mark All As Read</a>
                                </div>
                            </div>
                            <div class="dropdown-list-content dropdown-list-icons">
                                <a href="#" class="dropdown-item dropdown-item-unread">
                                    <div class="dropdown-item-icon bg-primary text-white">
                                        <i class="fas fa-code"></i>
                                    </div>
                                    <div class="dropdown-item-desc">
                                        Template update is available now!
                                        <div class="time text-primary">2 Min Ago</div>
                                    </div>
                                </a>
                                <a href="#" class="dropdown-item">
                                    <div class="dropdown-item-icon bg-info text-white">
                                        <i class="far fa-user"></i>
                                    </div>
                                    <div class="dropdown-item-desc">
                                        <b>You</b> and <b>Dedik Sugiharto</b> are now friends
                                        <div class="time">10 Hours Ago</div>
                                    </div>
                                </a>
                                <a href="#" class="dropdown-item">
                                    <div class="dropdown-item-icon bg-success text-white">
                                        <i class="fas fa-check"></i>
                                    </div>
                                    <div class="dropdown-item-desc">
                                        <b>Kusnaedi</b> has moved task <b>Fix bug header</b> to <b>Done</b>
                                        <div class="time">12 Hours Ago</div>
                                    </div>
                                </a>
                                <a href="#" class="dropdown-item">
                                    <div class="dropdown-item-icon bg-danger text-white">
                                        <i class="fas fa-exclamation-triangle"></i>
                                    </div>
                                    <div class="dropdown-item-desc">
                                        Low disk space. Let's clean it!
                                        <div class="time">17 Hours Ago</div>
                                    </div>
                                </a>
                                <a href="#" class="dropdown-item">
                                    <div class="dropdown-item-icon bg-info text-white">
                                        <i class="fas fa-bell"></i>
                                    </div>
                                    <div class="dropdown-item-desc">
                                        Welcome to Stisla template!
                                        <div class="time">Yesterday</div>
                                    </div>
                                </a>
                            </div>
                            <div class="dropdown-footer text-center">
                                <a href="#">View All <i class="fas fa-chevron-right"></i></a>
                            </div>
                        </div>
                    </li>
                    <li class="dropdown">
                        <a href="#" data-toggle="dropdown" class="nav-link dropdown-toggle nav-link-lg nav-link-user">
                            @{
                                Html.RenderAction("AdminNameViewinProfile", "Account");
                            }

                        </a>
                        <div class="dropdown-menu dropdown-menu-right">
                            <div class="dropdown-title">Ngp Management System</div>
                            <a href="/Admin/Index" class="dropdown-item has-icon">
                                <i class="fa fa-fire"></i> Admin Dashboard
                            </a>
                            <a href="/Account/Index" class="dropdown-item has-icon">
                                <i class="fas fa-user"></i> Account
                            </a>
                            
                            <div class="dropdown-divider"></div>
                            <a href="/NgpManagement/Logout" class="dropdown-item has-icon text-danger">
                                <i class="fas fa-sign-out-alt"></i> Logout
                            </a>
                        </div>
                    </li>
                </ul>
            </nav>








            @*FOR ADMIN*@
            @{ if ((int)Session["Role_Id"] == 1)

                {
                    <div class="main-sidebar sidebar-style-2">
                        <aside id="sidebar-wrapper">
                            <div class="sidebar-brand">
                                <a href="index.html"> Ngp Management System</a>
                            </div>

                            @{
                                Html.RenderAction("DisplayPicNameandRole", "Account");
                            }
                            <div class="sidebar-brand sidebar-brand-sm">
                                <a href="index.html">St</a>
                            </div>
                            <ul class="sidebar-menu">
                                <li><a class="nav-link" style="color: #28a745 !important;" href="/Admin/Index"><i class="fa fa-fire"></i> <span> Admin Dashboard</span></a></li>
                                <li class="menu-header">Starter</li>
                                <li class="dropdown">
                                    <a href="#" style="color: #28a745 !important;" class="nav-link has-dropdown" data-toggle="dropdown"><i class="fa fa-user"></i> <span>Manage Account</span></a>
                                    <ul class="dropdown-menu">

                                        <li><a class="nav-link" href="/Account/Index">Users Table</a></li>
                                    </ul>
                                </li>

                                <li class="dropdown">
                                    <a href="" style="color: #28a745 !important;" class="nav-link has-dropdown"><i class="fas fa-th"></i> <span>Contractor</span></a>
                                    <ul class="dropdown-menu">
                                        <li><a class="nav-link" href="/Contractor/Create">Create Contractor<i class="fa fa-plus-circle"></i></a></li>


                                    </ul>
                                </li>
                                <li class="dropdown">
                                    <a href="" style="color: #28a745 !important;" class="nav-link has-dropdown"><i class="fas fa-th"></i> <span>Activity Logs</span></a>
                                    <ul class="dropdown-menu">
                                        <li><a class="nav-link" href="/AdminActivityLogs/ContractorLogs">Contractor Logs</a></li>
                                        <li><a class="nav-link" href="/AdminActivityLogs/ProjectLogs">Projects Logs</a></li>
                                        <li><a class="nav-link" href="/AdminActivityLogs/ContractLogs">Contract Logs</a></li>
                                        <li><a class="nav-link" href="/AdminActivityLogs/PaymentLogs">Payment Logs</a></li>



                                    </ul>
                                </li>



                                @*<li class="dropdown">
            <a href="" style="color: #28a745 !important;" class="nav-link has-dropdown"><i class="fas fa-th"></i> <span>Projects</span></a>
            <ul class="dropdown-menu">
                <li><a class="nav-link" href="/Project/Create">Create Projects<i class="fa fa-plus-circle"></i></a></li>


            </ul>
        </li>
        <li class="dropdown">
            <a href="" style="color: #28a745 !important;" class="nav-link has-dropdown"><i class="fas fa-th"></i> <span>Contract</span></a>
            <ul class="dropdown-menu">
                <li><a class="nav-link" href="/Contract/Create">Create Contract<i class="fa fa-plus-circle"></i></a></li>


            </ul>
        </li>

        <li class="dropdown">
            <a href="" style="color: #28a745 !important;" class="nav-link has-dropdown"><i class="fas fa-th"></i> <span>Payments</span></a>
            <ul class="dropdown-menu">
                <li><a class="nav-link" href="/Payment/Create">Create Payment<i class="fa fa-plus-circle"></i></a></li>


            </ul>
        </li>
        <li class="dropdown">
            <a href="" style="color: #28a745 !important;" class="nav-link has-dropdown"><i class="fas fa-th"></i> <span>Sched</span></a>
            <ul class="dropdown-menu">
                <li><a class="nav-link" href="/Sched/Create">Create Sched<i class="fa fa-plus-circle"></i></a></li>


            </ul>
        </li>*@
                                <li><a class="nav-link" href="/Information/Index" style="color: #28a745 !important;"><i class="fas fa-pencil-ruler"></i> <span>Information List</span></a></li>

                            </ul>
                        </aside>
                    </div>
                }


            }


            <!-- Main Content -->
            <div class="main-content">
                <section class="section">
                    <div class="section-header text-white">
                        " @*need letter to hide*@
                    </div>

                    <div class="row">
                        <div class="col-lg-3 col-md-6 col-sm-6 col-12">
                            <div class="card card-statistic-1" style="background-color: #f1f1f1">
                                <div class="card-icon bg-primary">
                                    <i class="fa fa-users text-white" style="font-size:20px;"></i>
                                </div>
                                <div class="card-wrap">
                                    <div class="card-header">
                                        <h4 class="text-black-50">Total Users Account</h4>
                                    </div>
                                    <div class="card-body">
                                        <h4 id="UserAccountadmincount"></h4>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-6 col-sm-6 col-12">
                            <div class="card card-statistic-1" style="background-color: #f1f1f1" >
                                <div class="card-icon bg-danger">
                                    <i class="far fa-user-circle"></i>
                                </div>
                                <div class="card-wrap">
                                    <div class="card-header">
                                        <h4 class="text-black-50">Total Contractors</h4>
                                    </div>
                                    <div class="card-body">
                                        <h4 id="Contractoradmincount"></h4>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-6 col-sm-6 col-12">
                            <div class="card card-statistic-1" style="background-color: #f1f1f1">
                                <div class="card-icon bg-warning">
                                    <i class="far fa-file"></i>
                                </div>
                                <div class="card-wrap">
                                    <div class="card-header">
                                        <h4 class="text-black-50">Total Projects</h4>
                                    </div>
                                    <div class="card-body">
                                        <h4 id="Projectsadmincount"></h4>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-6 col-sm-6 col-12">
                            <div class="card card-statistic-1" style="background-color: #f1f1f1">
                                <div class="card-icon bg-success">
                                    <i class="fas fa-file-contract"></i>
                                </div>
                                <div class="card-wrap">
                                    <div class="card-header">
                                        <h4 class="text-black-50">Total Contract</h4>
                                    </div>
                                    <div class="card-body">
                                        <h4 id="Contractsadmincount"></h4>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    @RenderBody();


                </section>
            </div>


            <footer class="main-footer">
                <div class="footer-left">
                    Copyright &copy; 2023 <div class="bullet"></div>  <a href="">NgpMangementSystem</a>
                </div>
                <div class="footer-right">

                </div>
            </footer>
        </div>
    </div>


    <div class="modal fade" id="maint_modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
         aria-hidden="true">
        <div class="modal-dialog modal-notify modal-danger" role="document">
            <div class="modal-content">
                <div class="modal-header card-header2">
                    <h5 class="heading" style="color:white;">MAINTENANCE MODE</h5>
                </div>

                <div class="modal-body">
                    <div class="row">
                        <div class="col-lg-12">
                            <p>
                                Turn On/Off Maintenance Mode for the National Greening Project Management System
                            </p>
                            <form id="maintenanceStatus">
                                <div class="form-group">
                                    <select class="form-control" id="isActive" name="isActive">
                                        <option value="0">No</option>
                                        <option value="1">Yes</option>
                                    </select>
                                    <input type="hidden" id="id" name="id">
                                </div>
                                <div class="form-group">
                                    <label for="maintenanceMessage">Maintenance Message</label>
                                    <textarea type="text" id="message" name="message" required
                                              class="form-control" rows="3" style="background: #fff;"></textarea>
                                </div>




                                <div class="text-center">
                                    <button type="submit" class="btn btn-primary btn-md" style="margin: 0 auto;"
                                            id="saveMaintenance">
                                        Submit
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>

                <div class="modal-footer ">
                    <a class="btn btn-danger" data-dismiss="modal" style="color:white;">Close</a>
                </div>
            </div>
        </div>
    </div>


    <script>
        $(document).ready(function () {
            $("#maintenanceStatus").validate({
                rules: {
                    message: {
                        required: true,
                    },
                },
                errorClass: "tomerror",
                messages: {
                    message: {
                        required: "Please Input a Message",
                    },
                },
            });
            $('#maintenanceStatus').submit(function (e) {
                e.preventDefault();
                if ($("#maintenanceStatus").valid()) {
                    $('#maint_modal').modal('hide');
                    var id = $(this).attr('data-id');
                    var url = '/api/maintenancemode/getmaintenancemode/' + id;
                    $("#maintenanceStatus").attr('data-id', id);
                    var isActive = $('select[name=isActive]').val();
                    //check true or false
                    if (isActive == 1) {
                        isActive = true;
                    } else {
                        isActive = false;
                    }
                    var message = $('textarea[name=message]').val();
                    // data
                    var data = {
                        isActive: isActive,
                        id: 1,
                        message: message,

                    };
                    $.ajax({
                        type: 'POST',
                        url: '/api/maintenancemode/getmaintenancemode/' + id,
                        data: data,

                        success: function (data) {
                            toastr.success("Status Successfully Changed!");

                            setTimeout(() => {
                                location.reload();

                                /*  $('#saveMaintenance')[0].reset();*/
                            }, 1000);
                        },
                        //if failed
                        error: function (data) {
                            // toastr.info("Success")
                        }
                    });
                }
            });
        });
    </script>


    <!-- General JS Scripts -->

    <script src="/Content/assets/modules/popper.js"></script>
    <script src="/Content/assets/modules/tooltip.js"></script>
    <script src="/Content/assets/modules/bootstrap/js/bootstrap.min.js"></script>
    <script src="/Content/assets/modules/nicescroll/jquery.nicescroll.min.js"></script>
    <script src="/Content/assets/modules/moment.min.js"></script>
    <script src="/Content/assets/js/stisla.js"></script>

    <!-- JS Libraies -->

    <script src="~/Content/assets/modules/prism/prism.js"></script>
    <script src="/Content/assets/modules/jquery.sparkline.min.js"></script>
    <script src="/Content/assets/modules/chart.min.js"></script>
    <script src="/Content/assets/modules/owlcarousel2/dist/owl.carousel.min.js"></script>
    <script src="/Content/assets/modules/summernote/summernote-bs4.js"></script>
    <script src="/Content/assets/modules/chocolat/dist/js/jquery.chocolat.min.js"></script>

    <!-- Page Specific JS File -->
    <!-- Page Specific JS File -->
    <script src="/Content/assets/js/page/bootstrap-modal.js"></script>

    <!-- Template JS File -->
    <script src="/Content/assets/js/scripts.js"></script>
    <script src="/Content/assets/js/custom.js"></script>

    <script>
        $(window).ready(function () {
            TotalCounts();
            //NEED THIS FOR MODAL
            $(document).on('show.bs.modal', '.modal', function () {
                $(this).appendTo('body');
            });
        });
    </script>




</body>
</html>